{"version":3,"sources":["../src/verifyConditions.ts"],"names":["configMessage","createErrorPATH","param","code","SemanticReleaseError","verifyConditions","GOOGLE_CLIENT_ID","GOOGLE_CLIENT_SECRET","GOOGLE_REFRESH_TOKEN","process","env","errors","push","length","AggregateError"],"mappings":";;;;;AAAA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,sCAAtB;;AAEA,MAAMC,eAAe,GAAG,CAACC,KAAD,EAAgBC,IAAhB,KACtB,IAAIC,cAAJ,CACG,MAAKF,KAAM,2BAA0BF,aAAc,EADtD,EAEEG,IAFF,CADF;;AAMA,MAAME,gBAAgB,GAAG,MAAM;AAC7B,QAAM;AACJC,IAAAA,gBADI;AAEJC,IAAAA,oBAFI;AAGJC,IAAAA;AAHI,MAIFC,OAAO,CAACC,GAJZ;AAKA,QAAMC,MAAe,GAAG,EAAxB;;AAEA,MAAI,CAACL,gBAAL,EAAuB;AACrBK,IAAAA,MAAM,CAACC,IAAP,CAAYX,eAAe,CAAC,kBAAD,EAAqB,iBAArB,CAA3B;AACD;;AAED,MAAI,CAACM,oBAAL,EAA2B;AACzBI,IAAAA,MAAM,CAACC,IAAP,CAAYX,eAAe,CAAC,sBAAD,EAAyB,qBAAzB,CAA3B;AACD;;AAED,MAAI,CAACO,oBAAL,EAA2B;AACzBG,IAAAA,MAAM,CAACC,IAAP,CAAYX,eAAe,CAAC,sBAAD,EAAyB,qBAAzB,CAA3B;AACD;;AAED,MAAIU,MAAM,CAACE,MAAP,GAAgB,CAApB,EAAuB;AACrB,UAAM,IAAIC,uBAAJ,CAAmBH,MAAnB,CAAN;AACD;AACF,CAvBD;;eAyBeN,gB","sourcesContent":["import SemanticReleaseError from '@semantic-release/error'\r\nimport AggregateError from 'aggregate-error'\r\n\r\nconst configMessage = 'Check the README.md for config info.'\r\n\r\nconst createErrorPATH = (param: string, code: string) =>\r\n  new SemanticReleaseError(\r\n    `No ${param} specified inside PATH. ${configMessage}`,\r\n    code,\r\n  )\r\n\r\nconst verifyConditions = () => {\r\n  const {\r\n    GOOGLE_CLIENT_ID,\r\n    GOOGLE_CLIENT_SECRET,\r\n    GOOGLE_REFRESH_TOKEN,\r\n  } = process.env\r\n  const errors: Error[] = []\r\n\r\n  if (!GOOGLE_CLIENT_ID) {\r\n    errors.push(createErrorPATH('GOOGLE_CLIENT_ID', 'EGOOGLECLIENTID'))\r\n  }\r\n\r\n  if (!GOOGLE_CLIENT_SECRET) {\r\n    errors.push(createErrorPATH('GOOGLE_CLIENT_SECRET', 'EGOOGLECLIENTSECRET'))\r\n  }\r\n\r\n  if (!GOOGLE_REFRESH_TOKEN) {\r\n    errors.push(createErrorPATH('GOOGLE_REFRESH_TOKEN', 'EGOOGLEREFRESHTOKEN'))\r\n  }\r\n\r\n  if (errors.length > 0) {\r\n    throw new AggregateError(errors)\r\n  }\r\n}\r\n\r\nexport default verifyConditions\r\n"],"file":"verifyConditions.js"}